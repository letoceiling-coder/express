# Решение проблемы с Яндекс Suggest API (403 ошибка)

## Текущая ситуация

- ✅ API ключ настроен (36 символов)
- ✅ Запросы отправляются правильно
- ❌ Яндекс Suggest API возвращает 403 Forbidden
- ✅ Геокодер работает (валидация адресов работает)

## Причина проблемы

**Яндекс Suggest API (`suggest-maps.yandex.ru/v1/suggest`)** - это **платный коммерческий API**, который:
- Требует отдельного коммерческого договора с Яндексом
- Не входит в базовый доступ для Геокодера
- Стоимость: от нескольких тысяч рублей в месяц

Обычный ключ для Геокодера **не дает** доступа к Suggest API.

## Решения

### Вариант 1: Отключить подсказки, оставить ручной ввод (Рекомендуется) ✅

**Преимущества:**
- Бесплатно
- Работает уже сейчас
- Валидация адресов через Геокодер работает

**Реализация:**
- Убрать запросы к Suggest API
- Оставить поле для ручного ввода
- Валидация адреса происходит после ввода (через Геокодер)

### Вариант 2: Использовать JavaScript API SuggestView

**Преимущества:**
- Работает через браузер
- Использует тот же ключ
- Может работать, если ключ имеет доступ к JavaScript API

**Недостатки:**
- Ключ будет виден на frontend (но это нормально для JS API)
- Нужно подключить скрипт Яндекс.Карт

### Вариант 3: Перейти на DaData API

**Преимущества:**
- Бесплатный лимит: 10,000 запросов/день
- Специализированный API для адресов
- Лучшая точность
- Понятные тарифы

**Недостатки:**
- Нужна регистрация
- После лимита - платно

### Вариант 4: Оформить коммерческий договор с Яндексом

**Для Suggest API:**
- Требуется договор
- Стоимость: от нескольких тысяч рублей/месяц
- Подходит для высоконагруженных проектов

---

## Рекомендация

**Лучшее решение на данный момент:** Вариант 1 - отключить подсказки, оставить ручной ввод.

Почему:
1. ✅ Бесплатно
2. ✅ Работает уже сейчас
3. ✅ Валидация через Геокодер работает
4. ✅ Пользователи могут вводить адреса вручную
5. ✅ Можно добавить подсказки позже (DaData или JS API)

---

## Что нужно сделать

1. Отключить запросы к Suggest API на frontend
2. Оставить поле для ручного ввода адреса
3. Валидация адреса работает автоматически (через calculate-cost endpoint)

Пользователи смогут:
- Вводить адрес вручную
- Видеть валидацию адреса
- Видеть стоимость доставки после ввода



