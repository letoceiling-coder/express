# –ü–æ—á–µ–º—É –∫–ª—é—á –ø—É—Å—Ç–æ–π –≤ CheckoutPage.tsx?

## ‚úÖ –§–∞–∫—Ç—ã

1. **–ö–ª—é—á –ï–°–¢–¨ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
   - –¢–∞–±–ª–∏—Ü–∞: `delivery_settings`
   - –ü–æ–ª–µ: `yandex_geocoder_api_key`
   - –ö–ª—é—á –∑–∞–ø–æ–ª–Ω–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω ‚úÖ

2. **–ö–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ backend:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `DeliveryCalculationService` –¥–ª—è –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞ ‚úÖ
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ ‚úÖ

3. **–ù–û –∫–ª—é—á –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ frontend:**
   - –í `DeliverySettingsController::getSettings()` (—Å—Ç—Ä–æ–∫–∞ 27):
     ```php
     unset($data['yandex_geocoder_api_key']); // –ö–ª—é—á —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –æ—Ç–≤–µ—Ç–∞
     ```
   - –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ **–ù–ê–ú–ï–†–ï–ù–ù–û** –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚úÖ

## üîí –ü–æ—á–µ–º—É –∫–ª—é—á —Å–∫—Ä—ã—Ç –æ—Ç frontend?

### –ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ï—Å–ª–∏ –∫–ª—é—á –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ frontend:
1. **–õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å –∫–ª—é—á:**
   - JavaScript –∫–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –ö–ª—é—á –º–æ–∂–Ω–æ —É–∫—Ä–∞—Å—Ç—å —á–µ—Ä–µ–∑ DevTools
   - –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à –∫–ª—é—á

2. **–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
   - –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –∑–∞ –≤–∞—à —Å—á–µ—Ç
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
   - –í–æ–∑–º–æ–∂–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–ª—é—á–∞
   - –ù–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è):
Frontend ‚Üí –Ø–Ω–¥–µ–∫—Å Suggest API (—Å –∫–ª—é—á–æ–º –Ω–∞ frontend)
          ‚Üë
          –ö–ª—é—á –≤–∏–¥–µ–Ω –≤—Å–µ–º!

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (–Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å):
Frontend ‚Üí Backend API ‚Üí –Ø–Ω–¥–µ–∫—Å Suggest API (–∫–ª—é—á –Ω–∞ backend)
          ‚Üë
          –ö–ª—é—á —Å–∫—Ä—ã—Ç!
```

## üêõ –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–í `CheckoutPage.tsx` (—Å—Ç—Ä–æ–∫–∞ 396):

```javascript
const url = `https://suggest-maps.yandex.ru/v1/suggest?apikey=&text=...`;
//                                                        ^^^^^^
//                                                        –ö–ª—é—á –ø—É—Å—Ç–æ–π!
```

**–ü–æ—á–µ–º—É –ø—É—Å—Ç–æ–π:**
- Frontend –¥–µ–ª–∞–µ—Ç –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –Ø–Ω–¥–µ–∫—Å API
- –ö–ª—é—á –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ frontend (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- –ù–æ –∫–ª—é—á –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É `apikey=` –ø—É—Å—Ç–æ–π

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å **backend endpoint** –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∞–¥—Ä–µ—Å–æ–≤:

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
Frontend (CheckoutPage.tsx)
    ‚Üì
    POST /api/v1/delivery/address-suggestions
    Body: { query: "–õ–µ–Ω–∏–Ω–∞", city: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥" }
    ‚Üì
Backend (DeliverySettingsController)
    ‚Üì
    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª—é—á –∏–∑ –ë–î (yandex_geocoder_api_key)
    ‚Üì
    –ó–∞–ø—Ä–æ—Å –∫ –Ø–Ω–¥–µ–∫—Å Suggest API
    ‚Üì
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ frontend
```

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. **–°–æ–∑–¥–∞—Ç—å backend endpoint:**
   - `POST /api/v1/delivery/address-suggestions`
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –æ—Ç frontend
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª—é—á –∏–∑ `delivery_settings.yandex_geocoder_api_key`
   - –î–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –Ø–Ω–¥–µ–∫—Å Suggest API
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏

2. **–û–±–Ω–æ–≤–∏—Ç—å frontend:**
   - –£–±—Ä–∞—Ç—å –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –Ø–Ω–¥–µ–∫—Å API
   - –î–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–º—É backend endpoint
   - –ö–ª—é—á –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ backend

## üìù –ò—Ç–æ–≥

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É –∫–ª—é—á –ø—É—Å—Ç–æ–π –≤ CheckoutPage.tsx?

**–û—Ç–≤–µ—Ç:**
1. ‚úÖ –ö–ª—é—á –ï–°–¢–¨ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ –ö–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ backend
3. ‚úÖ –ö–ª—é—á –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ frontend (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
4. ‚ùå Frontend –¥–µ–ª–∞–µ—Ç –ø—Ä—è–º–æ–π –∑–∞–ø—Ä–æ—Å –∫ –Ø–Ω–¥–µ–∫—Å API (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
5. ‚úÖ –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å backend endpoint –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫

**–í—ã–≤–æ–¥:** –≠—Ç–æ –Ω–µ –±–∞–≥, –∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞. –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å backend-–ø—Ä–æ–∫—Å–∏.

