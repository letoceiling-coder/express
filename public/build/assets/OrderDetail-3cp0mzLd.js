import{o as f,f as C,g as V}from"./api-Dz8SdEuB.js";import{_ as P,j as N,c as d,o as n,a as t,b as m,t as i,d as u,C as b,A as v,v as g,F as x,q as _,p as y,e as h,f as w,g as O,r as S,w as B}from"./admin-lQaaAaOm.js";import{s as c}from"./swal-C5DxUZ5S.js";import"./sweetalert2.esm.all-C0u8rGqG.js";const H={name:"OrderStatusHistory",props:{orderId:{type:[Number,String],required:!0}},data(){return{history:[],loading:!1,error:null,filters:{role:"",status:"",search:""}}},computed:{filteredHistory(){let r=[...this.history];if(this.filters.role&&(r=r.filter(e=>e.role===this.filters.role)),this.filters.status&&(r=r.filter(e=>e.status===this.filters.status)),this.filters.search){const e=this.filters.search.toLowerCase();r=r.filter(p=>(p.comment||"").toLowerCase().includes(e))}return r}},mounted(){this.loadHistory()},methods:{async loadHistory(){this.loading=!0,this.error=null;try{const r=localStorage.getItem("token"),e=await N.get(`/api/v1/orders/${this.orderId}/status-history`,{headers:{Authorization:`Bearer ${r}`,Accept:"application/json"}});this.history=e.data.data||[]}catch(r){this.error=r.response?.data?.message||"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤",console.error("Error loading status history:",r)}finally{this.loading=!1}},translateStatus(r){return{new:"–ù–æ–≤—ã–π",accepted:"–ü—Ä–∏–Ω—è—Ç",sent_to_kitchen:"–û—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –∫—É—Ö–Ω—é",kitchen_accepted:"–ü—Ä–∏–Ω—è—Ç –∫—É—Ö–Ω–µ–π",preparing:"–ì–æ—Ç–æ–≤–∏—Ç—Å—è",ready_for_delivery:"–ì–æ—Ç–æ–≤ –∫ –¥–æ—Å—Ç–∞–≤–∫–µ",courier_assigned:"–ö—É—Ä—å–µ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω",in_transit:"–í –ø—É—Ç–∏",delivered:"–î–æ—Å—Ç–∞–≤–ª–µ–Ω",cancelled:"–û—Ç–º–µ–Ω–µ–Ω"}[r]||r},translateRole(r){return{admin:"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",kitchen:"–ö—É—Ö–Ω—è",courier:"–ö—É—Ä—å–µ—Ä",user:"–ö–ª–∏–µ–Ω—Ç"}[r]||r},getStatusColor(r){return{new:"bg-blue-500",accepted:"bg-green-500",sent_to_kitchen:"bg-yellow-500",kitchen_accepted:"bg-yellow-600",preparing:"bg-orange-500",ready_for_delivery:"bg-purple-500",courier_assigned:"bg-indigo-500",in_transit:"bg-blue-600",delivered:"bg-green-600",cancelled:"bg-red-500"}[r]||"bg-gray-500"},getStatusBadgeClass(r){return{new:"bg-blue-500/10 text-blue-500",accepted:"bg-green-500/10 text-green-500",sent_to_kitchen:"bg-yellow-500/10 text-yellow-500",kitchen_accepted:"bg-yellow-600/10 text-yellow-600",preparing:"bg-orange-500/10 text-orange-500",ready_for_delivery:"bg-purple-500/10 text-purple-500",courier_assigned:"bg-indigo-500/10 text-indigo-500",in_transit:"bg-blue-600/10 text-blue-600",delivered:"bg-green-600/10 text-green-600",cancelled:"bg-red-500/10 text-red-500"}[r]||"bg-gray-500/10 text-gray-500"},getRoleBadgeClass(r){return{admin:"bg-purple-500/10 text-purple-500",kitchen:"bg-orange-500/10 text-orange-500",courier:"bg-blue-500/10 text-blue-500",user:"bg-gray-500/10 text-gray-500"}[r]||"bg-gray-500/10 text-gray-500"},getUserName(r){if(r.changed_by_user)return r.changed_by_user.name||r.changed_by_user.email||"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä";if(r.changed_by_telegram_user){const e=r.changed_by_telegram_user;return[e.first_name,e.last_name].filter(Boolean).join(" ")||e.username||`User #${e.telegram_id}`}return null},formatDate(r){return r?new Date(r).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""}}},I={class:"order-status-history"},L={class:"flex items-center justify-between mb-4"},j=["disabled"],D={key:0,class:"mb-4 flex gap-2 flex-wrap"},R={key:1,class:"text-center py-8 text-muted-foreground"},q={key:2,class:"text-center py-8 text-muted-foreground"},A={key:3,class:"relative"},M={class:"space-y-4"},z={class:"flex-1 ml-8 pb-4"},E={class:"bg-card rounded-lg border border-border p-4"},F={class:"flex items-start justify-between mb-2"},K={class:"flex items-center gap-2"},T={class:"text-xs text-muted-foreground"},J={key:0,class:"text-sm text-muted-foreground mb-2"},G={key:1,class:"text-sm text-muted-foreground mb-2"},Q={key:2,class:"text-sm text-foreground mt-2 p-2 bg-muted/30 rounded"},W={class:"mt-1"},X={key:3,class:"text-xs text-muted-foreground mt-2"},Y={class:"cursor-pointer"},Z={class:"mt-2 p-2 bg-muted/20 rounded text-xs overflow-x-auto"};function $(r,e,p,U,o,a){return n(),d("div",I,[t("div",L,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold text-foreground"},"–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤",-1)),t("button",{onClick:e[0]||(e[0]=(...l)=>a.loadHistory&&a.loadHistory(...l)),disabled:o.loading,class:"px-3 py-1.5 text-sm bg-muted hover:bg-muted/80 text-muted-foreground rounded-lg transition-colors disabled:opacity-50"},i(o.loading?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–û–±–Ω–æ–≤–∏—Ç—å"),9,j)]),o.history.length>0?(n(),d("div",D,[u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.filters.role=l),class:"h-9 px-3 text-sm rounded-lg border border-input bg-background text-foreground"},[...e[5]||(e[5]=[v('<option value="" data-v-d4754d19>–í—Å–µ —Ä–æ–ª–∏</option><option value="admin" data-v-d4754d19>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option><option value="kitchen" data-v-d4754d19>–ö—É—Ö–Ω—è</option><option value="courier" data-v-d4754d19>–ö—É—Ä—å–µ—Ä</option><option value="user" data-v-d4754d19>–ö–ª–∏–µ–Ω—Ç</option>',5)])],512),[[b,o.filters.role]]),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>o.filters.status=l),class:"h-9 px-3 text-sm rounded-lg border border-input bg-background text-foreground"},[...e[6]||(e[6]=[v('<option value="" data-v-d4754d19>–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option><option value="new" data-v-d4754d19>–ù–æ–≤—ã–π</option><option value="accepted" data-v-d4754d19>–ü—Ä–∏–Ω—è—Ç</option><option value="sent_to_kitchen" data-v-d4754d19>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –∫—É—Ö–Ω—é</option><option value="kitchen_accepted" data-v-d4754d19>–ü—Ä–∏–Ω—è—Ç –∫—É—Ö–Ω–µ–π</option><option value="preparing" data-v-d4754d19>–ì–æ—Ç–æ–≤–∏—Ç—Å—è</option><option value="ready_for_delivery" data-v-d4754d19>–ì–æ—Ç–æ–≤ –∫ –¥–æ—Å—Ç–∞–≤–∫–µ</option><option value="courier_assigned" data-v-d4754d19>–ö—É—Ä—å–µ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω</option><option value="in_transit" data-v-d4754d19>–í –ø—É—Ç–∏</option><option value="delivered" data-v-d4754d19>–î–æ—Å—Ç–∞–≤–ª–µ–Ω</option><option value="cancelled" data-v-d4754d19>–û—Ç–º–µ–Ω–µ–Ω</option>',11)])],512),[[b,o.filters.status]]),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>o.filters.search=l),type:"text",placeholder:"–ü–æ–∏—Å–∫ –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º...",class:"h-9 px-3 text-sm rounded-lg border border-input bg-background text-foreground flex-1 min-w-[200px]"},null,512),[[g,o.filters.search]])])):m("",!0),o.loading&&o.history.length===0?(n(),d("div",R," –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤... ")):a.filteredHistory.length===0?(n(),d("div",q,i(o.history.length===0?"–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –ø—É—Å—Ç–∞":"–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∏–ª—å—Ç—Ä–∞–º"),1)):(n(),d("div",A,[e[11]||(e[11]=t("div",{class:"absolute left-4 top-0 bottom-0 w-0.5 bg-border"},null,-1)),t("div",M,[(n(!0),d(x,null,_(a.filteredHistory,(l,k)=>(n(),d("div",{key:l.id,class:"relative flex gap-4"},[t("div",{class:y(["absolute left-4 w-3 h-3 rounded-full border-2 border-background -translate-x-1/2",a.getStatusColor(l.status)]),style:{top:"0.5rem"}},null,2),t("div",z,[t("div",E,[t("div",F,[t("div",K,[t("span",{class:y(["px-2 py-1 text-xs font-medium rounded-md",a.getStatusBadgeClass(l.status)])},i(a.translateStatus(l.status)),3),t("span",{class:y(["px-2 py-1 text-xs font-medium rounded-md",a.getRoleBadgeClass(l.role)])},i(a.translateRole(l.role)),3)]),t("span",T,i(a.formatDate(l.created_at)),1)]),l.previous_status?(n(),d("div",J,[e[7]||(e[7]=t("span",{class:"font-medium"},"–ü—Ä–µ–¥—ã–¥—É—â–∏–π —Å—Ç–∞—Ç—É—Å:",-1)),h(" "+i(a.translateStatus(l.previous_status)),1)])):m("",!0),a.getUserName(l)?(n(),d("div",G,[e[8]||(e[8]=t("span",{class:"font-medium"},"–ò–∑–º–µ–Ω–∏–ª:",-1)),h(" "+i(a.getUserName(l)),1)])):m("",!0),l.comment?(n(),d("div",Q,[e[9]||(e[9]=t("span",{class:"font-medium text-muted-foreground"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:",-1)),t("p",W,i(l.comment),1)])):m("",!0),l.metadata&&Object.keys(l.metadata).length>0?(n(),d("div",X,[t("details",Y,[e[10]||(e[10]=t("summary",{class:"font-medium"},"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",-1)),t("pre",Z,i(JSON.stringify(l.metadata,null,2)),1)])])):m("",!0)])])]))),128))])]))])}const ee=P(H,[["render",$],["__scopeId","data-v-d4754d19"]]),te={name:"OrderDetail",components:{OrderStatusHistory:ee},data(){return{order:null,delivery:null,payments:[],form:{},loading:!1,saving:!1,error:null,syncingPayment:!1}},computed:{canSyncPayment(){return(this.order?.payment_method||"").toLowerCase()==="yookassa"&&this.order?.id}},mounted(){this.loadOrder(),this.loadDelivery(),this.loadPayments()},methods:{async loadOrder(){this.loading=!0,this.error=null;try{const r=this.$route.params.id,e=await f.getById(r);this.order=e.data,this.form={status:this.order.status||"new",payment_status:this.order.payment_status||"pending",phone:this.order.phone||"",delivery_address:this.order.delivery_address||"",delivery_time:this.order.delivery_time||"",comment:this.order.comment||"",total_amount:Number(this.order.total_amount)||0,notes:this.order.notes||""}}catch(r){this.error=r.message||"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–∞"}finally{this.loading=!1}},async loadDelivery(){try{const r=this.$route.params.id,e=await V.getByOrder(r);this.delivery=e.data}catch(r){console.log("–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:",r)}},async loadPayments(){try{const r=this.$route.params.id,e=await C.getByOrder(r);this.payments=e.data||[]}catch(r){console.log("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π:",r)}},async handleSubmit(){this.saving=!0;try{const r=this.$route.params.id;await f.update(r,this.form),await this.loadOrder(),await c.success("–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω")}catch(r){await c.error(r.message||"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞")}finally{this.saving=!1}},getPaymentMethodLabel(r){return r?{cash:"–ù–∞–ª–∏—á–Ω—ã–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏",yookassa:"–û–Ω–ª–∞–π–Ω –æ–ø–ª–∞—Ç–∞ (–ÆKassa)",card:"–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞",online:"–û–Ω–ª–∞–π–Ω –æ–ø–ª–∞—Ç–∞"}[r.toLowerCase()]||r:"–ù–µ —É–∫–∞–∑–∞–Ω"},async syncPaymentStatus(){if(!(!this.order?.id||this.syncingPayment)){this.syncingPayment=!0;try{await f.syncPaymentStatus(this.order.id),await this.loadOrder(),await this.loadPayments(),await c.success("–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã –æ–±–Ω–æ–≤–ª—ë–Ω")}catch(r){await c.error(r.message||"–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏")}finally{this.syncingPayment=!1}}}}},re={class:"order-detail-page"},oe={class:"mb-6"},se={class:"flex items-center justify-between"},de={class:"text-2xl font-bold text-foreground"},ne={key:0,class:"bg-card rounded-lg border border-border p-12 text-center"},le={key:1,class:"bg-destructive/10 border border-destructive/20 rounded-lg p-4"},ie={class:"text-destructive"},ae={key:2,class:"space-y-6"},ue={class:"bg-card rounded-lg border border-border p-6"},me={class:"grid grid-cols-2 gap-4"},ge={class:"flex gap-2 items-center"},pe=["disabled"],ce=["value"],be={class:"col-span-2"},fe={class:"col-span-2"},ye={class:"flex items-center gap-4 pt-4 border-t border-border"},ve=["disabled"],xe={class:"bg-card rounded-lg border border-border p-6"},_e={key:0,class:"space-y-2"},he={class:"flex items-center gap-4"},ke=["src","alt"],we={class:"font-medium text-foreground"},Se={class:"text-sm text-muted-foreground"},Pe={class:"font-medium text-foreground"},Ue={key:1,class:"text-center py-8 text-muted-foreground"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ve={class:"bg-card rounded-lg border border-border p-6"},Ne={key:0,class:"space-y-2"},Oe={class:"text-sm"},Be={class:"ml-2 font-medium text-foreground"},He={class:"text-sm"},Ie={class:"ml-2 font-medium text-foreground"},Le={key:0,class:"text-sm"},je={class:"ml-2 font-medium text-foreground"},De={key:1,class:"text-sm"},Re={class:"ml-2 font-medium text-foreground"},qe={key:1,class:"text-center py-4 text-muted-foreground"},Ae={class:"bg-card rounded-lg border border-border p-6"},Me={key:0,class:"space-y-2"},ze={class:"text-sm"},Ee={class:"ml-2 font-medium text-foreground"},Fe={class:"text-sm"},Ke={class:"ml-2 font-medium text-foreground"},Te={class:"text-sm"},Je={class:"ml-2 font-medium text-foreground"},Ge={key:1,class:"text-center py-4 text-muted-foreground"},Qe={class:"bg-card rounded-lg border border-border p-6"};function We(r,e,p,U,o,a){const l=S("router-link"),k=S("OrderStatusHistory");return n(),d("div",re,[t("div",oe,[t("div",se,[t("div",null,[t("h1",de,"–ó–∞–∫–∞–∑ #"+i(o.order?.order_id),1),e[10]||(e[10]=t("p",{class:"text-muted-foreground mt-1"},"–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ",-1))]),w(l,{to:"/orders",class:"h-10 px-4 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 inline-flex items-center"},{default:O(()=>[...e[11]||(e[11]=[h(" –ö —Å–ø–∏—Å–∫—É –∑–∞–∫–∞–∑–æ–≤ ",-1)])]),_:1})])]),o.loading&&!o.order?(n(),d("div",ne,[...e[12]||(e[12]=[t("p",{class:"text-muted-foreground"},"–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–∞...",-1)])])):o.error?(n(),d("div",le,[t("p",ie,i(o.error),1)])):o.order?(n(),d("div",ae,[t("div",ue,[e[24]||(e[24]=t("h2",{class:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2"},"–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",-1)),t("form",{onSubmit:e[9]||(e[9]=B((...s)=>a.handleSubmit&&a.handleSubmit(...s),["prevent"])),class:"space-y-4"},[t("div",me,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.status=s),class:"w-full h-10 px-3 rounded-lg border border-input bg-background"},[...e[13]||(e[13]=[v('<option value="new" data-v-dd556546>–ù–æ–≤—ã–π</option><option value="accepted" data-v-dd556546>–ü—Ä–∏–Ω—è—Ç</option><option value="sent_to_kitchen" data-v-dd556546>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –∫—É—Ö–Ω—é</option><option value="kitchen_accepted" data-v-dd556546>–ü—Ä–∏–Ω—è—Ç –∫—É—Ö–Ω–µ–π</option><option value="preparing" data-v-dd556546>–ì–æ—Ç–æ–≤–∏—Ç—Å—è</option><option value="ready_for_delivery" data-v-dd556546>–ì–æ—Ç–æ–≤ –∫ –¥–æ—Å—Ç–∞–≤–∫–µ</option><option value="courier_assigned" data-v-dd556546>–ö—É—Ä—å–µ—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω</option><option value="in_transit" data-v-dd556546>–í –ø—É—Ç–∏</option><option value="delivered" data-v-dd556546>–î–æ—Å—Ç–∞–≤–ª–µ–Ω</option><option value="cancelled" data-v-dd556546>–û—Ç–º–µ–Ω–µ–Ω</option>',10)])],512),[[b,o.form.status]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã",-1)),t("div",ge,[u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.payment_status=s),class:"flex-1 h-10 px-3 rounded-lg border border-input bg-background"},[...e[15]||(e[15]=[t("option",{value:"pending"},"–û–∂–∏–¥–∞–µ—Ç",-1),t("option",{value:"succeeded"},"–û–ø–ª–∞—á–µ–Ω",-1),t("option",{value:"failed"},"–û—à–∏–±–∫–∞",-1),t("option",{value:"cancelled"},"–û—Ç–º–µ–Ω–µ–Ω",-1)])],512),[[b,o.form.payment_status]]),a.canSyncPayment?(n(),d("button",{key:0,type:"button",onClick:e[2]||(e[2]=(...s)=>a.syncPaymentStatus&&a.syncPaymentStatus(...s)),disabled:o.syncingPayment,class:"h-10 px-3 rounded-lg border border-border bg-background hover:bg-muted/50 disabled:opacity-50",title:"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –ÆKassa"},i(o.syncingPayment?"...":"üîÑ"),9,pe)):m("",!0)])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã",-1)),t("input",{value:a.getPaymentMethodLabel(o.order?.payment_method),type:"text",disabled:"",class:"w-full h-10 px-3 rounded-lg border border-input bg-muted text-muted-foreground cursor-not-allowed"},null,8,ce)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–¢–µ–ª–µ—Ñ–æ–Ω",-1)),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.phone=s),type:"text",required:"",class:"w-full h-10 px-3 rounded-lg border border-input bg-background"},null,512),[[g,o.form.phone]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–û–±—â–∞—è —Å—É–º–º–∞",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.form.total_amount=s),type:"number",step:"0.01",required:"",class:"w-full h-10 px-3 rounded-lg border border-input bg-background"},null,512),[[g,o.form.total_amount,void 0,{number:!0}]])]),t("div",be,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏",-1)),u(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.form.delivery_address=s),rows:"2",required:"",class:"w-full px-3 py-2 rounded-lg border border-input bg-background"},null,512),[[g,o.form.delivery_address]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏",-1)),u(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.form.delivery_time=s),type:"text",required:"",class:"w-full h-10 px-3 rounded-lg border border-input bg-background"},null,512),[[g,o.form.delivery_time]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",-1)),u(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>o.form.comment=s),type:"text",class:"w-full h-10 px-3 rounded-lg border border-input bg-background"},null,512),[[g,o.form.comment]])]),t("div",fe,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-foreground mb-2"},"–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏",-1)),u(t("textarea",{"onUpdate:modelValue":e[8]||(e[8]=s=>o.form.notes=s),rows:"3",class:"w-full px-3 py-2 rounded-lg border border-input bg-background"},null,512),[[g,o.form.notes]])])]),t("div",ye,[t("button",{type:"submit",disabled:o.saving,class:"h-10 px-6 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50"},i(o.saving?"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"),9,ve)])],32)]),t("div",xe,[e[25]||(e[25]=t("h2",{class:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2"},"–¢–æ–≤–∞—Ä—ã",-1)),o.order.items&&o.order.items.length>0?(n(),d("div",_e,[(n(!0),d(x,null,_(o.order.items,s=>(n(),d("div",{key:s.id,class:"flex items-center justify-between p-4 bg-muted/30 rounded-lg"},[t("div",he,[s.product_image?(n(),d("img",{key:0,src:s.product_image,alt:s.product_name,class:"w-16 h-16 object-cover rounded-lg"},null,8,ke)):m("",!0),t("div",null,[t("div",we,i(s.product_name),1),t("div",Se,i(s.quantity)+" —à—Ç. √ó "+i(Number(s.unit_price).toLocaleString("ru-RU"))+" ‚ÇΩ ",1)])]),t("div",Pe,i(Number(s.total).toLocaleString("ru-RU"))+" ‚ÇΩ ",1)]))),128))])):(n(),d("div",Ue," –¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã "))]),t("div",Ce,[t("div",Ve,[e[30]||(e[30]=t("h2",{class:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2"},"–î–æ—Å—Ç–∞–≤–∫–∞",-1)),o.delivery?(n(),d("div",Ne,[t("div",Oe,[e[26]||(e[26]=t("span",{class:"text-muted-foreground"},"–°—Ç–∞—Ç—É—Å:",-1)),t("span",Be,i(o.delivery.status),1)]),t("div",He,[e[27]||(e[27]=t("span",{class:"text-muted-foreground"},"–¢–∏–ø:",-1)),t("span",Ie,i(o.delivery.delivery_type),1)]),o.delivery.courier_name?(n(),d("div",Le,[e[28]||(e[28]=t("span",{class:"text-muted-foreground"},"–ö—É—Ä—å–µ—Ä:",-1)),t("span",je,i(o.delivery.courier_name),1)])):m("",!0),o.delivery.tracking_number?(n(),d("div",De,[e[29]||(e[29]=t("span",{class:"text-muted-foreground"},"–¢—Ä–µ–∫-–Ω–æ–º–µ—Ä:",-1)),t("span",Re,i(o.delivery.tracking_number),1)])):m("",!0)])):(n(),d("div",qe," –î–æ—Å—Ç–∞–≤–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞ "))]),t("div",Ae,[e[34]||(e[34]=t("h2",{class:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2"},"–ü–ª–∞—Ç–µ–∂–∏",-1)),o.payments&&o.payments.length>0?(n(),d("div",Me,[(n(!0),d(x,null,_(o.payments,s=>(n(),d("div",{key:s.id,class:"p-3 bg-muted/30 rounded-lg"},[t("div",ze,[e[31]||(e[31]=t("span",{class:"text-muted-foreground"},"–°—É–º–º–∞:",-1)),t("span",Ee,i(Number(s.amount).toLocaleString("ru-RU"))+" ‚ÇΩ ",1)]),t("div",Fe,[e[32]||(e[32]=t("span",{class:"text-muted-foreground"},"–°—Ç–∞—Ç—É—Å:",-1)),t("span",Ke,i(s.status),1)]),t("div",Te,[e[33]||(e[33]=t("span",{class:"text-muted-foreground"},"–ú–µ—Ç–æ–¥:",-1)),t("span",Je,i(s.payment_method),1)])]))),128))])):(n(),d("div",Ge," –ü–ª–∞—Ç–µ–∂–µ–π –Ω–µ—Ç "))]),t("div",Qe,[w(k,{"order-id":o.order.id},null,8,["order-id"])])])])):m("",!0)])}const et=P(te,[["render",We],["__scopeId","data-v-dd556546"]]);export{et as default};
