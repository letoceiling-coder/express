# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ WebP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –Ω–µ –∏–º–µ—é—Ç:
- WebP –≤–µ—Ä—Å–∏–π
- –í–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–≤ (thumbnail, medium, large)

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback**

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `OptimizedImage` —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç fallback:
- –ï—Å–ª–∏ –Ω–µ—Ç `webpSrc` –∏ `variants` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, –Ω–æ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π seeder**

Seeder —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏:
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `php artisan db:seed` –Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- –°–æ–∑–¥–∞—é—Ç—Å—è WebP –≤–µ—Ä—Å–∏–∏ –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤

### 3. **–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**

–°–æ–∑–¥–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:

```bash
# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ WebP –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
php artisan images:process-existing

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 10 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
php artisan images:process-existing --limit=10

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ (–¥–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã)
php artisan images:process-existing --force
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å seed (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏:

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –º–µ–¥–∏–∞ (–û–°–¢–û–†–û–ñ–ù–û!)
php artisan migrate:fresh --seed

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å seeder
php artisan db:seed --class=CategoryProductSeeder
```

**–í–∞–∂–Ω–æ:** –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Ö —É–¥–∞–ª—è—Ç—å:

```bash
# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
php artisan images:process-existing
```

–ö–æ–º–∞–Ω–¥–∞:
- –ù–∞–π–¥–µ—Ç –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ WebP –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- –°–æ–∑–¥–∞—Å—Ç WebP –≤–µ—Ä—Å–∏–∏
- –°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤
- –û–±–Ω–æ–≤–∏—Ç metadata –≤ –ë–î

## üìä –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ö–æ–º–∞–Ω–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ `webp_path` –≤ metadata
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è**: –°–æ–∑–¥–∞—é—Ç—Å—è WebP –≤–µ—Ä—Å–∏–∏ –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è metadata –≤ —Ç–∞–±–ª–∏—Ü–µ `media`
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ø—Ä–∏–º–µ—Ä–Ω–æ 1-3 —Å–µ–∫ –Ω–∞ —Ñ–∞–π–ª)
2. **–ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ**: –ö–∞–∂–¥–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Å—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (~40% –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞)
3. **–û—à–∏–±–∫–∏**: –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö, –ª–æ–≥–∏—Ä—É—è –∏—Ö

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
http://express.loc/admin/media

# –í API –æ—Ç–≤–µ—Ç–µ
GET /api/v1/products/1
# –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
# - image.webp_url
# - image.variants
```

## üìù –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã

```
–ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...
–ù–∞–π–¥–µ–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 50
 50/50 [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100%

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
+-------------+------------+
| –°—Ç–∞—Ç—É—Å      | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
+-------------+------------+
| –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ  | 48         |
| –û—à–∏–±–æ–∫      | 2          |
| –í—Å–µ–≥–æ       | 50         |
+-------------+------------+
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è:**

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –æ–±—Ä–∞–±–æ—Ç–∫–∏:
   ```bash
   php artisan images:process-existing
   ```

2. –≠—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

3. –ù–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è



