# –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ "–¥–æ –¥–æ—Å—Ç–∞–≤–∫–∏ –æ—Ç 3000 ‚ÇΩ" –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

## üìã –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **–ö–æ—Ä–∑–∏–Ω–∞ (`useCartStore`)**:
   - `getTotalAmount()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É–º–º—É –∫–æ—Ä–∑–∏–Ω—ã
   - `getTotalItems()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
   - –•—Ä–∞–Ω–∏—Ç—Å—è –≤ `zustand` —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é

2. **–¢–∏–ø –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞**:
   - –í `CheckoutPage` –µ—Å—Ç—å `DeliveryType = 'courier' | 'pickup'`
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ —Ñ–æ—Ä–º–µ: `deliveryType: 'courier' | 'pickup'`
   - **–í –∫–∞—Ç–∞–ª–æ–≥–µ –ª–æ–≥–∏–∫–∏ –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –ù–ï–¢** - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏**:
   - API: `deliverySettingsAPI.getSettings()`
   - –ü–æ–ª–µ: `min_delivery_order_total_rub` (–¥–µ—Ñ–æ–ª—Ç: 3000)
   - –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `CheckoutPage` (—Å—Ç—Ä–æ–∫–∏ 186-207)

4. **Bottom Navigation**:
   - `fixed bottom-0 z-50`
   - –í—ã—Å–æ—Ç–∞: `h-14` (56px)
   - –ö–ª–∞—Å—Å `safe-area-bottom` —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ CatalogPage**:
   - Header (`MiniAppHeader`) - `top-0`
   - CategoryTabs - `sticky top-14`
   - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
   - Floating Cart Button - `fixed bottom-20` (80px –æ—Ç –Ω–∏–∑–∞)
   - BottomNavigation - `fixed bottom-0`

---

## üéØ –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

**–§–∞–π–ª**: `frontend/src/pages/miniapp/CatalogPage.tsx`

**–ó–∞–¥–∞—á–∏**:
1. –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `orderMode: 'pickup' | 'delivery'` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `'pickup'`)
2. –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ `localStorage` –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
3. **–ù–ï –º–µ–Ω—è—Ç—å** —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É –∫–æ—Ä–∑–∏–Ω—ã –∏ –∑–∞–∫–∞–∑–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
const [orderMode, setOrderMode] = useState<'pickup' | 'delivery'>(() => {
  const saved = localStorage.getItem('orderMode');
  return (saved === 'delivery' || saved === 'pickup') ? saved : 'pickup';
});

useEffect(() => {
  localStorage.setItem('orderMode', orderMode);
}, [orderMode]);
```

---

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è "–î–æ—Å—Ç–∞–≤–∫–∞ / –°–∞–º–æ–≤—ã–≤–æ–∑"

**–§–∞–π–ª**: `frontend/src/components/miniapp/DeliveryModeToggle.tsx` (–Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

**–ó–∞–¥–∞—á–∏**:
1. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç-–∫–æ–Ω—Ç—Ä–æ–ª –∏–∑ –¥–≤—É—Ö –æ–≤–∞–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
2. –°—Ç–∏–ª—å: –≤ —Å—Ç–∏–ª–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞, primary —Ü–≤–µ—Ç–∞)
3. –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –ø–æ–¥ —à–∞–ø–∫–æ–π, –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É

**UI —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –î–≤–µ –∫–Ω–æ–ø–∫–∏: "–î–æ—Å—Ç–∞–≤–∫–∞" –∏ "–°–∞–º–æ–≤—ã–≤–æ–∑"
- –ê–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞: `bg-primary text-primary-foreground`
- –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è: `bg-secondary text-secondary-foreground`
- –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∫—Ä–∞—è (rounded-full)
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä (–≤—ã—Å–æ—Ç–∞ ~36-40px)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ CatalogPage**:
```tsx
<MiniAppHeader title="–°–≤–æ–π –•–ª–µ–±" />
<DeliveryModeToggle 
  value={orderMode} 
  onChange={setOrderMode} 
/>
<CategoryTabs ... />
```

---

### –≠—Ç–∞–ø 3: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

**–§–∞–π–ª**: `frontend/src/pages/miniapp/CatalogPage.tsx`

**–ó–∞–¥–∞—á–∏**:
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å `min_delivery_order_total_rub` –∏–∑ API
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç 3000, –µ—Å–ª–∏ API –Ω–µ –≤–µ—Ä–Ω—É–ª –∑–Ω–∞—á–µ–Ω–∏–µ
3. –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```typescript
const [minDeliveryTotal, setMinDeliveryTotal] = useState<number>(3000);

useEffect(() => {
  const loadSettings = async () => {
    try {
      const settings = await deliverySettingsAPI.getSettings();
      if (settings?.min_delivery_order_total_rub) {
        setMinDeliveryTotal(settings.min_delivery_order_total_rub);
      }
    } catch (error) {
      console.error('Error loading delivery settings:', error);
    }
  };
  loadSettings();
}, []);
```

---

### –≠—Ç–∞–ø 4: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å-–ø–ª–∞—à–∫–∏

**–§–∞–π–ª**: `frontend/src/components/miniapp/DeliveryProgressBar.tsx` (–Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)

**–ó–∞–¥–∞—á–∏**:
1. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `orderMode === 'delivery'`
2. –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `fixed bottom-14` (–Ω–∞–¥ BottomNavigation)
3. –£—á–∏—Ç—ã–≤–∞—Ç—å `safe-area-bottom`
4. –ü–æ –∫–ª–∏–∫—É - –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∫–æ—Ä–∑–∏–Ω—É

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
- –¢–µ–∫—Å—Ç:
  - –ï—Å–ª–∏ `cartTotal < minDeliveryTotal`: "–î–æ –¥–æ—Å—Ç–∞–≤–∫–∏ –µ—â—ë X ‚ÇΩ"
  - –ï—Å–ª–∏ `cartTotal >= minDeliveryTotal`: "–î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞"
- Progress bar:
  - `progress = Math.min(cartTotal / minDeliveryTotal, 1)`
  - –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã (transition)
  - –¶–≤–µ—Ç: primary –ø—Ä–∏ progress < 1, success –ø—Ä–∏ progress >= 1

**–°—Ç–∏–ª—å**:
- –§–æ–Ω: `bg-card` –∏–ª–∏ `bg-background`
- Border-top –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
- Padding –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (~60-70px)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**:
```tsx
{orderMode === 'delivery' && (
  <DeliveryProgressBar
    cartTotal={totalAmount}
    minDeliveryTotal={minDeliveryTotal}
    onNavigateToCart={() => navigate('/cart')}
  />
)}
```

---

### –≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–ø–ª–∞—à–∫–∏ –≤ CatalogPage

**–§–∞–π–ª**: `frontend/src/pages/miniapp/CatalogPage.tsx`

**–ó–∞–¥–∞—á–∏**:
1. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `DeliveryProgressBar` –ø–µ—Ä–µ–¥ `BottomNavigation`
2. –ü–µ—Ä–µ–¥–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ–ø—Å—ã
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–ª–∞—à–∫–∞ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç Floating Cart Button
4. –£—á–µ—Å—Ç—å z-index: –ø–ª–∞—à–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –Ω–æ –Ω–∏–∂–µ –º–æ–¥–∞–ª–æ–∫

**Z-index –∏–µ—Ä–∞—Ä—Ö–∏—è**:
- BottomNavigation: `z-50`
- DeliveryProgressBar: `z-40` (–Ω–∏–∂–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)
- Floating Cart Button: `z-40` (–º–æ–∂–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –ø–ª–∞—à–∫—É, –Ω–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

**–ê–¥–∞–ø—Ç–∞—Ü–∏—è Floating Cart Button**:
- –ï—Å–ª–∏ `orderMode === 'delivery'` –∏ –ø–ª–∞—à–∫–∞ –≤–∏–¥–Ω–∞:
  - –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–ø–ª–∞—à–∫–∞ –±—É–¥–µ—Ç –Ω–∏–∂–µ –∫–Ω–æ–ø–∫–∏)
  - –ò–ª–∏ –ø–æ–¥–Ω—è—Ç—å –∫–Ω–æ–ø–∫—É –≤—ã—à–µ: `bottom-28` –≤–º–µ—Å—Ç–æ `bottom-20`

---

### –≠—Ç–∞–ø 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ

**–§–∞–π–ª**: `frontend/src/pages/miniapp/CartPage.tsx`

**–ó–∞–¥–∞—á–∏**:
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å `minDeliveryOrderTotal` –∏–∑ API (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ)
2. –ü–æ–ª—É—á–∏—Ç—å `orderMode` –∏–∑ localStorage (–∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —á–µ—Ä–µ–∑ state)
3. –ï—Å–ª–∏ `orderMode === 'delivery'` –∏ `totalAmount < minDeliveryOrderTotal`:
   - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑" (`disabled`)
   - –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç "–ú–∏–Ω–∏–º—É–º X ‚ÇΩ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏"
   - –ö–Ω–æ–ø–∫—É "–°–∞–º–æ–≤—ã–≤–æ–∑" –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ CheckoutPage)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
```tsx
const [orderMode] = useState<'pickup' | 'delivery'>(() => {
  return localStorage.getItem('orderMode') === 'delivery' ? 'delivery' : 'pickup';
});

const [minDeliveryOrderTotal, setMinDeliveryOrderTotal] = useState<number>(3000);

// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
useEffect(() => {
  // ... –∑–∞–≥—Ä—É–∑–∫–∞ minDeliveryOrderTotal
}, []);

const isDeliveryBlocked = orderMode === 'delivery' && totalAmount < minDeliveryOrderTotal;

// –í JSX:
{isDeliveryBlocked && (
  <p className="text-sm text-destructive mb-2">
    –ú–∏–Ω–∏–º—É–º {minDeliveryOrderTotal.toLocaleString('ru-RU')} ‚ÇΩ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏
  </p>
)}
<button
  onClick={() => navigate('/checkout')}
  disabled={isDeliveryBlocked}
  className={cn(
    "w-full h-11 rounded-lg bg-primary text-base font-semibold text-primary-foreground touch-feedback hover:opacity-90 transition-opacity",
    isDeliveryBlocked && "opacity-50 cursor-not-allowed"
  )}
>
  –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
</button>
```

---

### –≠—Ç–∞–ø 7: –ü–µ—Ä–µ–¥–∞—á–∞ orderMode –≤ CheckoutPage

**–ó–∞–¥–∞—á–∏**:
1. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ CheckoutPage –ø–µ—Ä–µ–¥–∞—Ç—å `orderMode` —á–µ—Ä–µ–∑ state –∏–ª–∏ localStorage
2. –í CheckoutPage –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω–æ–µ
3. –ï—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç –∏–∑ —Ñ–æ—Ä–º—ã (`'courier'`)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ CartPage**:
```tsx
<button
  onClick={() => navigate('/checkout', { state: { orderMode } })}
  // ...
>
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ CheckoutPage**:
```tsx
const location = useLocation();
const initialDeliveryType = location.state?.orderMode === 'delivery' 
  ? 'courier' 
  : 'pickup';

// –í formData:
deliveryType: initialDeliveryType as DeliveryType,
```

---

## üìê –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã (Safe Area)

**BottomNavigation**:
- –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å `safe-area-bottom`
- –í—ã—Å–æ—Ç–∞: `h-14` (56px)

**DeliveryProgressBar**:
- –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `safe-area-bottom` –≤ —Å—Ç–∏–ª—è—Ö
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `bottom-14` (56px –æ—Ç –Ω–∏–∑–∞, –Ω–∞–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π)
- Padding-bottom: `pb-safe` –∏–ª–∏ `pb-[env(safe-area-inset-bottom)]`

**CSS –¥–ª—è safe-area**:
```css
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
```

### –ê–Ω–∏–º–∞—Ü–∏–∏

**Progress bar**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `transition-all duration-300` –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `transform: scaleX()` –∏–ª–∏ `width: X%` —Å transition

**–ü–ª–∞—à–∫–∞**:
- –ü–æ—è–≤–ª–µ–Ω–∏–µ/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ: `animate-slide-up` –∏–ª–∏ fade-in
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- [ ] –°–æ–∑–¥–∞—Ç—å `DeliveryModeToggle.tsx`
- [ ] –°–æ–∑–¥–∞—Ç—å `DeliveryProgressBar.tsx`

### –°—Ç—Ä–∞–Ω–∏—Ü—ã:
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `CatalogPage.tsx`:
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `orderMode`
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É `minDeliveryTotal`
  - [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `DeliveryModeToggle`
  - [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `DeliveryProgressBar`
  - [ ] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Floating Cart Button (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `CartPage.tsx`:
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º—ã
  - [ ] –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
  - [ ] –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å `orderMode` –≤ CheckoutPage

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `CheckoutPage.tsx`:
  - [ ] –ü—Ä–∏–Ω–∏–º–∞—Ç—å `orderMode` –∏–∑ state
  - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

### API:
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `deliverySettingsAPI.getSettings()` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ API

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–ª–∞—à–∫–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ delivery
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –∫–Ω–æ–ø–∫–∏ –≤ –∫–æ—Ä–∑–∏–Ω–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å safe-area –Ω–∞ iOS
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∫–æ—Ä–∑–∏–Ω—É –ø–æ –∫–ª–∏–∫—É –Ω–∞ –ø–ª–∞—à–∫—É

---

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### DeliveryModeToggle:
- –í—ã—Å–æ—Ç–∞: `h-9` –∏–ª–∏ `h-10` (36-40px)
- –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ: `rounded-full`
- –û—Ç—Å—Ç—É–ø—ã: `px-4 py-2`
- Gap –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏: `gap-2`
- –ê–∫—Ç–∏–≤–Ω–∞—è: `bg-primary text-primary-foreground`
- –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è: `bg-secondary text-secondary-foreground`

### DeliveryProgressBar:
- –í—ã—Å–æ—Ç–∞: `min-h-[60px]` –∏–ª–∏ `h-16` (64px)
- –§–æ–Ω: `bg-card` –∏–ª–∏ `bg-background`
- Border-top: `border-t border-border`
- Padding: `px-4 py-3`
- Progress bar:
  - –í—ã—Å–æ—Ç–∞: `h-2` (8px)
  - –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ: `rounded-full`
  - –§–æ–Ω: `bg-secondary`
  - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ: `bg-primary` (–∏–ª–∏ `bg-success` –ø—Ä–∏ 100%)

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–í–∞–∂–Ω–æ**: –°–æ—Å—Ç–æ—è–Ω–∏–µ `orderMode` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ –≤:
1. CatalogPage (–≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞)
2. CartPage (–ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º—ã)
3. CheckoutPage (–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã)

**–í–∞—Ä–∏–∞–Ω—Ç—ã**:
1. **localStorage** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
   - –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
   - –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ state

2. **URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**:
   - –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ `?mode=delivery`
   - –ù–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É

3. **Zustand store** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π store
   - –ù–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ

**–í—ã–±–æ—Ä**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `localStorage` + –ø–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ `navigate state` –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ CheckoutPage.

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–ù–µ –º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è, –±–µ–∑ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç–∏–ª–∏
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ API, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç—ã
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ö–µ—à–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏, –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
5. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `aria-label` –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è

---

## üöÄ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. **–≠—Ç–∞–ø 1-2**: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
2. **–≠—Ç–∞–ø 3**: –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
3. **–≠—Ç–∞–ø 4-5**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–ø–ª–∞—à–∫—É
4. **–≠—Ç–∞–ø 6**: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –∫–æ—Ä–∑–∏–Ω–µ
5. **–≠—Ç–∞–ø 7**: –ü–µ—Ä–µ–¥–∞—á–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ CheckoutPage
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

---

## üìå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã

1. **Z-index**: –ü–ª–∞—à–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∏–∂–µ BottomNavigation (`z-40` vs `z-50`)
2. **Safe-area**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–∞ iOS
3. **–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ**: –ü–ª–∞—à–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å Floating Cart Button
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å API –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
5. **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å `orderMode` –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

